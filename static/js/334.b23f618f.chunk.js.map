{"version":3,"file":"static/js/334.b23f618f.chunk.js","mappings":"sLAOMA,EAAQC,EAAAA,MAAW,kBAAM,iCAqD/B,UAlDuB,SAACC,GACvB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAQC,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,MAAMA,SAEzCG,GAAaF,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,MAAMG,cAE9CC,GAAQH,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMF,MAAMI,SAG/C,GAA0BH,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMG,WAAWC,eAAxDC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,OAEf,GAAoCC,EAAAA,EAAAA,WAAS,GAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KAEMC,EAAeJ,EAAS,EAAKD,EAAQ,EAAI,EAEzCM,GAAWZ,EAAAA,EAAAA,KAAY,SAAAC,GAAK,OAAIA,EAAMY,OAAOC,oBACnDC,EAAAA,EAAAA,YAAU,WAETZ,GAASO,GAAc,IAEtBD,GAAcG,GAAYf,GAASmB,EAAAA,EAAAA,IAASL,MAC3C,CAACA,EAAcR,EAAOS,IAazB,OAAO,gBAAKK,UAAU,UAAf,SACLL,IACA,SAAC,EAAAM,SAAD,CAAUC,UAAU,SAAC,IAAD,IAApB,UACC,SAACzB,EAAD,CACCK,MAAOA,EAAMA,MACbqB,WAbe,WAElBvB,GAASwB,EAAAA,EAAAA,IAAStB,EAAMuB,YAEvBb,GAAcC,GAAc,IAU1Ba,MAjBO,sBAkBPC,SAhBU,uCAiBVC,YAAavB,EAGbwB,UAA8B,OAAnB3B,EAAMuB,WAAsBvB,EAAM4B,YAAc5B,EAAM6B","sources":["componrnts/main/Users/UsersContainer.jsx"],"sourcesContent":["\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addUsers, getUsers } from \"../../redux/thunkCreation\";\r\nimport { useSelector } from 'react-redux';\r\nimport { useState, Suspense } from 'react';\r\nimport PreloaderModal from './../../modal/PreloaderModal/PreloaderModal';\r\nconst Users = React.lazy(() => import('./Users'))\r\n\r\n\r\nconst UsersContainer = (props) => {\r\n\tconst dispatch = useDispatch();\r\n\tconst users = useSelector(state => state.users.users);\r\n\t// есть ли процесс загрузки\r\n\tconst isFetching = useSelector(state => state.users.isFetching);\r\n\t// зареган ли пользователь\r\n\tconst isReg = useSelector(state => state.users.isReg);\r\n\r\n\t// проверка значений брейкпоинта\r\n\tconst { is768, is1024 } = useSelector(state => state.mediaQuery.breakPoints);\r\n\t// если была нажата кнопка showMore -true\r\n\tconst [isShowMore, setIsShowMore] = useState(false);\r\n\t// колличество добавляемых/(показываемых при старте) пользователей\r\n\tconst numShowUsers = is1024 ? 9 : (is768 ? 6 : 3);\r\n\t//загружаем по мене прокрутки станицы\r\n\tconst isScroll = useSelector(state => state.scroll.articleIsScroll);\r\n\tuseEffect(() => {\r\n\t\t// возврщаем занчение нажатие кнопки showMore -fals- если пользователь уже зареган\r\n\t\tisReg && setIsShowMore(false);\r\n\t\t// если не был нажата showMore \r\n\t\t!isShowMore && isScroll && dispatch(getUsers(numShowUsers));\r\n\t}, [numShowUsers, isReg, isScroll])\r\n\t// текст заголовка\r\n\tconst title = `Our cheerful users `;\r\n\t// текст подзаголовка\r\n\tconst subtitle = `The best specialists are shown below`;\r\n\tconst onClickBtn = () => {\r\n\t\t// загружаем следующую старницу с пользователями\r\n\t\tdispatch(addUsers(users.nextPage));\r\n\t\t// если до этого showMore не была нажата- ставим занчение нажатия в true\r\n\t\t!isShowMore && setIsShowMore(true);\r\n\t}\r\n\r\n\r\n\treturn <div className='users_t'>\r\n\t\t{isScroll &&\r\n\t\t\t<Suspense fallback={<PreloaderModal />}>\r\n\t\t\t\t<Users\r\n\t\t\t\t\tusers={users.users}\r\n\t\t\t\t\tonClickBtn={onClickBtn}\r\n\t\t\t\t\ttitle={title}\r\n\t\t\t\t\tsubtitle={subtitle}\r\n\t\t\t\t\tdisebledBtn={isFetching}\r\n\t\t\t\t\t// прячем кнопку showMore если нет сл. страницы для показа \r\n\t\t\t\t\t// или количество показанных пользователей равно количеству всех пользователей \r\n\t\t\t\t\thiddenBtn={users.nextPage === null || +users.totalUsers == users.length}\r\n\t\t\t\t/>\r\n\t\t\t</Suspense>}\r\n\t</div>\r\n}\r\nexport default UsersContainer;"],"names":["Users","React","props","dispatch","useDispatch","users","useSelector","state","isFetching","isReg","mediaQuery","breakPoints","is768","is1024","useState","isShowMore","setIsShowMore","numShowUsers","isScroll","scroll","articleIsScroll","useEffect","getUsers","className","Suspense","fallback","onClickBtn","addUsers","nextPage","title","subtitle","disebledBtn","hiddenBtn","totalUsers","length"],"sourceRoot":""}